<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function takes a data frame with point locations in longitude and
latitude and returns the Darwin Core Location fields
decimalLatitude,
decimalLongitude,
geodeticDatum,
coordinateUncertaintyInMeters,
coordinatePrecision,
verbatimLatitude,
verbatimLongitude,
verbatimCoordinateSystem,
verbatimSRS and optionally
country,
countryCode,
stateProvince,
county and
locality.The function is a
wrapper for dwcPrepare functions dwc_coordinates,
dwc_coordinatePrecision,
dwc_coordinateUncertaintyInMeters,
dwc_country_to_county and
dwc_locality. The help pages of these functions have further
details."><title>Prepare Darwin Core Location fields — dwc_Location • dwcPrepare</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare Darwin Core Location fields — dwc_Location"><meta property="og:description" content="This function takes a data frame with point locations in longitude and
latitude and returns the Darwin Core Location fields
decimalLatitude,
decimalLongitude,
geodeticDatum,
coordinateUncertaintyInMeters,
coordinatePrecision,
verbatimLatitude,
verbatimLongitude,
verbatimCoordinateSystem,
verbatimSRS and optionally
country,
countryCode,
stateProvince,
county and
locality.The function is a
wrapper for dwcPrepare functions dwc_coordinates,
dwc_coordinatePrecision,
dwc_coordinateUncertaintyInMeters,
dwc_country_to_county and
dwc_locality. The help pages of these functions have further
details."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dwcPrepare</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dwcPrepare.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jdberson/dwcPrepare/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Prepare Darwin Core Location fields</h1>
      <small class="dont-index">Source: <a href="https://github.com/jdberson/dwcPrepare/blob/HEAD/R/dwc_Location.R" class="external-link"><code>R/dwc_Location.R</code></a></small>
      <div class="d-none name"><code>dwc_Location.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes a data frame with point locations in longitude and
latitude and returns the Darwin Core Location fields
<a href="http://rs.tdwg.org/dwc/terms/decimalLatitude" class="external-link">decimalLatitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/decimalLongitude" class="external-link">decimalLongitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/geodeticDatum" class="external-link">geodeticDatum</a>,
<a href="http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters" class="external-link">coordinateUncertaintyInMeters</a>,
<a href="http://rs.tdwg.org/dwc/terms/coordinatePrecision" class="external-link">coordinatePrecision</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimLatitude" class="external-link">verbatimLatitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimLongitude" class="external-link">verbatimLongitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem" class="external-link">verbatimCoordinateSystem</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimSRS" class="external-link">verbatimSRS</a> and optionally
<a href="http://rs.tdwg.org/dwc/terms/country" class="external-link">country</a>,
<a href="http://rs.tdwg.org/dwc/terms/countryCode" class="external-link">countryCode</a>,
<a href="http://rs.tdwg.org/dwc/terms/stateProvince" class="external-link">stateProvince</a>,
<a href="http://rs.tdwg.org/dwc/terms/county" class="external-link">county</a> and
<a href="http://rs.tdwg.org/dwc/terms/locality" class="external-link">locality</a>.The function is a
wrapper for dwcPrepare functions <code><a href="dwc_coordinates.html">dwc_coordinates</a></code>,
<code><a href="dwc_coordinatePrecision.html">dwc_coordinatePrecision</a></code>,
<code><a href="dwc_coordinateUncertaintyInMeters.html">dwc_coordinateUncertaintyInMeters</a></code>,
<code><a href="dwc_country_to_county.html">dwc_country_to_county</a></code> and
<code><a href="dwc_locality.html">dwc_locality</a></code>. The help pages of these functions have further
details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dwc_Location</span><span class="op">(</span></span>
<span>  <span class="va">longitude</span>,</span>
<span>  <span class="va">latitude</span>,</span>
<span>  <span class="va">verbatimCoordinateSystem</span>,</span>
<span>  <span class="va">verbatimSRS</span>,</span>
<span>  gps_uncertainty <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  localities_sf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  localities_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  county_sf <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>longitude</dt>
<dd><p>The longitude of the given coordinates This will be assigned
to <a href="http://rs.tdwg.org/dwc/terms/verbatimLongitude" class="external-link">verbatimLongitude</a>
in the returned tibble. Accepted formats are "decimal degrees", "degrees
decimal minutes" and "degrees minutes seconds" Must be a character value if
the coordinates are in degrees decimal minutes or degrees minutes seconds.</p></dd>


<dt>latitude</dt>
<dd><p>The latitude of the given coordinates This will be assigned
to <a href="http://rs.tdwg.org/dwc/terms/verbatimLatitude" class="external-link">verbatimLatitude</a>
in the returned tibble. Accepted formats are "decimal degrees", "degrees
decimal minutes" and "degrees minutes seconds" Must be a character value if
the coordinates are in degrees decimal minutes or degrees minutes seconds.</p></dd>


<dt>verbatimCoordinateSystem</dt>
<dd><p>The format of the longitude and latitude
coordinates. Supported terms are "decimal degrees", "degrees decimal minutes"
or "degrees minutes seconds". See:
<a href="http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem" class="external-link">http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem</a></p></dd>


<dt>verbatimSRS</dt>
<dd><p>The spatial reference system associated with the
coordinates, given as an EPSG code as in the example: "EPSG:4326". See:
<a href="http://rs.tdwg.org/dwc/terms/verbatimSRS" class="external-link">http://rs.tdwg.org/dwc/terms/verbatimSRS</a>.</p></dd>


<dt>gps_uncertainty</dt>
<dd><p>The uncertainty in meters recorded by the GPS device.
Default is 30.</p></dd>


<dt>localities_sf</dt>
<dd><p>An optional <code>sf POINT</code> object that provides
locality names as well as their longitude and latitude for all localities
within the area of interest. The package includes the locality information
for Australia. See <code><a href="locality_data_aus.html">locality_data_aus</a></code>. If provided,
the dwc_locality field will be returned. Default is NULL.</p></dd>


<dt>localities_names</dt>
<dd><p>The column name in <code>localities_sf</code> that gives
the locality name. Given as a string.</p></dd>


<dt>county_sf</dt>
<dd><p>An optional <code>sf POLYGON</code> object that includes the
county boundaries along with the higher geography features. Column names
must match the Darwin Core terms country, countryCode, stateProvince and
county. If provided, these Darwin Core terms will be returned for each
location. Default is NULL.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></code> with Darwin Core terms
<a href="http://rs.tdwg.org/dwc/terms/decimalLatitude" class="external-link">decimalLatitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/decimalLongitude" class="external-link">decimalLongitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/geodeticDatum" class="external-link">geodeticDatum</a>,
<a href="http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters" class="external-link">coordinateUncertaintyInMeters</a>,
<a href="http://rs.tdwg.org/dwc/terms/coordinatePrecision" class="external-link">coordinatePrecision</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimLatitude" class="external-link">verbatimLatitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimLongitude" class="external-link">verbatimLongitude</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem" class="external-link">verbatimCoordinateSystem</a>,
<a href="http://rs.tdwg.org/dwc/terms/verbatimSRS" class="external-link">verbatimSRS</a> and optionally
<a href="http://rs.tdwg.org/dwc/terms/country" class="external-link">country</a>,
<a href="http://rs.tdwg.org/dwc/terms/countryCode" class="external-link">countryCode</a>,
<a href="http://rs.tdwg.org/dwc/terms/stateProvince" class="external-link">stateProvince</a>,
<a href="http://rs.tdwg.org/dwc/terms/county" class="external-link">county</a> and
<a href="http://rs.tdwg.org/dwc/terms/locality" class="external-link">locality</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘dplyr’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from ‘package:stats’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     filter, lag</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from ‘package:base’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     intersect, setdiff, setequal, union</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"thylacine_data"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"locality_data_aus"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"county_tas"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">thylacine_data</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu">dwc_Location</span><span class="op">(</span></span></span>
<span class="r-in"><span>    longitude <span class="op">=</span> <span class="va">longitude_dd</span>,</span></span>
<span class="r-in"><span>    latitude <span class="op">=</span> <span class="va">latitude_dd</span>,</span></span>
<span class="r-in"><span>    verbatimCoordinateSystem <span class="op">=</span> <span class="st">"decimal degrees"</span>,</span></span>
<span class="r-in"><span>    verbatimSRS <span class="op">=</span> <span class="st">"EPSG:4326"</span>,</span></span>
<span class="r-in"><span>    gps_uncertainty <span class="op">=</span> <span class="va">gps_uncertainty</span>,</span></span>
<span class="r-in"><span>    localities_sf <span class="op">=</span> <span class="va">locality_data_aus</span>,</span></span>
<span class="r-in"><span>    localities_names <span class="op">=</span> <span class="st">"locality_name"</span>,</span></span>
<span class="r-in"><span>    county_sf <span class="op">=</span> <span class="va">county_tas</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 27</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   site   trap     date_trap_setup   date_trap_collected longitude_dd latitude_dd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Sumac  Sumac 1  05/09/2022 10:32… 06/09/2022 12:24:00         145.       -<span style="color: #BB0000;">41.2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Sumac  Sumac 2  05/09/2022 12:15… 06/09/2022 14:57:00         145.       -<span style="color: #BB0000;">41.2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Sumac  Sumac 1  05/10/2022 08:23… 06/10/2022 0:00:00          145.       -<span style="color: #BB0000;">41.2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Sumac  Sumac 2  05/10/2022 10:14… 06/10/2022 10:29:00         145.       -<span style="color: #BB0000;">41.2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> Picton Picton 1 10/09/2022 10:32… 11/09/2022 12:24:00         147.       -<span style="color: #BB0000;">43.3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> Picton Picton 2 10/09/2022 12:15… 11/09/2022 14:57:00         147.       -<span style="color: #BB0000;">43.2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> Picton Picton 1 10/10/2022 0:00:… 11/10/2022 08:46:00         147.       -<span style="color: #BB0000;">43.3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> Picton Picton 2 10/10/2022 10:14… 11/10/2022 10:29:00         147.       -<span style="color: #BB0000;">43.2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 21 more variables: longitude_dms &lt;chr&gt;, latitude_dms &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   longitude_ddm &lt;chr&gt;, latitude_ddm &lt;chr&gt;, gps_uncertainty &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   species &lt;chr&gt;, count &lt;dbl&gt;, country &lt;chr&gt;, countryCode &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   stateProvince &lt;chr&gt;, county &lt;chr&gt;, locality &lt;chr&gt;, decimalLatitude &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   decimalLongitude &lt;dbl&gt;, geodeticDatum &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   coordinateUncertaintyInMeters &lt;dbl&gt;, coordinatePrecision &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   verbatimLatitude &lt;dbl&gt;, verbatimLongitude &lt;dbl&gt;, …</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jacob Berson, Jake Manger.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

